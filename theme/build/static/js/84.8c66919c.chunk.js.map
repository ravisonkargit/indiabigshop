{"version":3,"sources":["components/collection/common/product-list-item-app.jsx"],"names":["PriceCalcOffer","lazy","__webpack_require__","e","then","bind","PriceCalc","ProductListItem","props","_this","Object","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","componentDidUpdate","_ref","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","nextProps","wrap","_context","prev","next","currencyValue","INR","state","inrValue","setState","t0","stop","_x","apply","arguments","CalcOfferPrice","offer_price","qty","stock","min_qty","offer_date","to_date","offerExist","parseInt","parseFloat","from_date","undefined","dateObj","Date","month","getMonth","day","getDate","todayDate","getFullYear","splitFrom","split","splitTo","splitToday","newFrom","newTo","newToday","toString","fromDate","parse","toDate","todayDates","open","quantity","image","price","deadEnd","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","finalCost","createCart","checkImageExist","validate","goToExpressCheckout","event_ask_for_price","chatBtn","pid","product_currency","sellerid","each_product_price","toFixed","ReactPixel","trackCustom","content_ids","content_type","value","currency","history","push","pathname","totalprice","symbol","product_seller","prod_id","img","event","checkImage","target","id","error","console","log","advancedMatching","em","options","autoConfig","debug","init","toast","$","detach","insertAfter","productid","amount","eachunit","product_sellerid","captureEvent","ls","get","getCookie","css","productId","isAndroid","window","Android","showProductPage","location","Cost","tprice","product_details","statePass","chatWithSupplier","company","item","store","dispatch","getChatWithSupplier","_this$props","product","translate","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","Fragment","className","offer_from_date","offer_to_date","offer_percent","style","width","zIndex","position","webkitTransform","left","brand_promo","onClick","data-sizes","src","data-src","variants","images","concat","imgUrl","alt","name","onError","productCost","start_price","end_price","price_in","price_us","mrp_price","offer_mrp_price","price_offer","offer_min_qty","offer_stock","country_code","unit","minqty","clickevent","Component","withRouter","withTranslate","connect","data","user","hole_data"],"mappings":"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","file":"static/js/84.8c66919c.chunk.js","sourcesContent":["import React, { Component, Suspense, lazy } from 'react';\nimport { Link } from 'react-router-dom';\nimport { imgUrl } from '../../../constants/variable';\nimport { withRouter } from \"react-router-dom\";\n// import ReactImageFallback from \"react-image-fallback\";\nimport { withTranslate } from 'react-redux-multilingual'\n// import PriceCalc from './priceCalc';\nimport './product.css';\nimport LazyLoad from 'react-lazy-load';\nimport { forceCheck } from 'react-lazy-load';\nimport ReactPixel from \"react-facebook-pixel\";\nimport $ from 'jquery';\nimport TagManager from \"react-gtm-module\";\nimport ls from \"local-storage\";\nimport { captureEvent, getCookie } from '../../../functions';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport {getChatWithSupplier} from '../../../actions/index';\nimport store from '../../../store';\n// import './imageloader.css'\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\nimport { isAndroid } from 'react-device-detect';\nconst PriceCalcOffer = lazy(() => import('./priceCalcOffer'))\nconst PriceCalc = lazy(() => import('./priceCalc'))\n\n// const ImageLoader = lazy(() => import('./ImageLoader.js'))\nvar Android, showProductPage;\nclass ProductListItem extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      open: false,\n      stock: 'InStock',\n      quantity: 1,\n      image: '',\n      inrValue: 70,\n      price: 0\n    }\n\n    this.deadEnd = this.deadEnd.bind(this)\n    this.finalCost = this.finalCost.bind(this)\n    this.createCart = this.createCart.bind(this)\n    this.checkImageExist = this.checkImageExist.bind(this)\n    this.validate = this.validate.bind(this)\n    this.goToExpressCheckout = this.goToExpressCheckout.bind(this)\n    this.event_ask_for_price = this.event_ask_for_price.bind(this)\n    this.chatBtn = this.chatBtn.bind(this);\n  }\n\n  async goToExpressCheckout(pid, qty, product_currency, sellerid){\n    var each_product_price = this.state.price;\n    if (product_currency == 'INR' || product_currency == '' || product_currency === undefined)\n      each_product_price = parseFloat(each_product_price) / 70;\n\n    each_product_price = each_product_price.toFixed();\n\n    ReactPixel.trackCustom('AddToCart', {\n      content_ids: [pid],\n      content_type: 'product',\n      value: this.state.price,\n      currency: 'USD'\n    })\n\n    this.props.history.push({\n      pathname: \"/check_out.html\",\n      state: {\n        totalprice: this.state.price,\n        currency: this.props.symbol,\n        product_seller: sellerid,\n        product_currency: product_currency,\n        prod_id: pid,\n        qty: qty\n      }\n    })\n\n  };\n\n  onClickHandle(img) {\n    this.setState({ image: img });\n  }\n  checkImageExist(event){\n    try {\n      this.props.checkImage(event.target.id);\n    } catch (error) {\n      console.log('error: ', error)\n    }\n  }\n\n  componentDidMount(nextProps) {\n    // FB\n    const advancedMatching = { em: \"support@beldara.com\" };\n    const options = {\n      autoConfig: true, // set pixel's autoConfig\n      debug: false // enable logs\n    };\n    ReactPixel.init(\"432219770935494\", advancedMatching, options);\n    ReactPixel.init(\"2231476330510319\", advancedMatching, options);\n\n    var toast = $('#toast_message').detach();\n    $(toast).insertAfter('.breadcrumb-section');\n  }\n\n  validate(id, productid, qty, amount, currency, eachunit, product_currency, product_sellerid){\n    captureEvent(\"Product\", id, productid, 'click', ls.get(\"sellerid\"), getCookie(\"mhinpbnb\"));\n    $('#btn_'+productid).css('opacity','0.6');\n    // console.log(id, productid, qty, amount, currency, eachunit, product_currency, product_sellerid,'validate');\n    this.createCart(productid, qty, amount, currency, eachunit , product_currency, product_sellerid)\n\n  };\n\n  event_ask_for_price(id, productId){\n    //window.Android.showProductPage(productId);\n    if(isAndroid){\n      window.Android.showProductPage(productId);\n    }else{\n      window.location = 'nativeiOSScheme://'+productId;\n    }\n    //captureEvent(\"Product\", id, productid, 'click', ls.get(\"sellerid\"), getCookie(\"mhinpbnb\"));\n  }\n  createCart(productId, qty, amount, currency, eachunit, product_currency, product_sellerid){\n    if(isAndroid){\n      window.Android.showProductPage(productId);\n    }else{\n      window.location = 'nativeiOSScheme://'+productId;\n    }\n    \n    // axios.post(\n    //   \"https://api.beldara.com/common/add_to_create_cart.php\",\n    //   {\n    //     security_token: \"\",\n    //     plateform_type: \"\",\n    //     productid: productid,\n    //     qty: qty,\n    //     amount: amount,\n    //     // amount: this.state.price,\n    //     currency: currency,\n    //     visitorid: getCookie('mhinpbnb'),\n    //     sellerid: ls.get('sellerid'),\n    //     country_to:getCookie(\"countryid\"),\n    //     pincode:getCookie('pincode')\n    //   },\n    //   { headers: { \"Content-Type\": \"multipart/form-data\" } }\n    // ).then(response => {\n    //   // this.goToExpressCheckout(productid, qty, product_currency, product_sellerid)\n    //   window.location.href=\"/cart.html\";\n    // })\n    //   .catch(error => {\n    //     const result = error.response;\n    //     return Promise.reject(result);\n    //   });\n  }\n\n  componentDidUpdate = async (nextProps) => {\n    try {\n      if (nextProps.currencyValue[0].INR != this.state.inrValue) {\n        await this.setState({\n          inrValue: nextProps.currencyValue[0].INR\n        })\n      }\n    } catch (e) {\n      await this.setState({\n        inrValue: 70\n      })\n    }\n  }\n\n  async finalCost(Cost, qty){\n    var tprice = 0;\n    tprice = Cost * qty;\n    tprice = tprice.toFixed(2);\n    await this.setState({\n      price: tprice\n    })\n  }\n\n  deadEnd(value){\n    \n  }\n\n  // goToLogin = (pid, qty, amount, product_currency, each_product_price) => {\n\n\n  //   if (product_currency == 'INR' || product_currency == '' || product_currency === undefined)\n  //     each_product_price = parseFloat(each_product_price) / this.state.inrValue;\n\n  //   each_product_price = each_product_price.toFixed();\n\n  //   ReactPixel.trackCustom('AddToCart', {\n  //     content_ids: [pid],\n  //     content_type: 'product',\n  //     value: each_product_price,\n  //     currency: 'USD'\n  //   })\n\n  //   this.props.history.push({\n  //     pathname: \"/register.html\"\n  //   })\n\n\n  // }\n\n  // goToStartOrder = async (pid, qty, amount, product_currency, each_product_price) => {\n\n  //   if (product_currency == 'INR' || product_currency == '' || product_currency === undefined)\n  //     each_product_price = parseFloat(each_product_price) / this.state.inrValue;\n\n  //   each_product_price = parseFloat(each_product_price).toFixed();\n\n  //   ReactPixel.trackCustom('AddToCart', {\n  //     content_ids: [pid],\n  //     content_type: 'product',\n  //     value: each_product_price,\n  //     currency: 'USD'\n  //   })\n\n  //   this.props.history.push({\n  //     pathname: \"/cart.html\"\n  //   })\n\n  // };\n\n  // create_wishlist = (productid, qty, amount, currency, eachunit) => {\n  //   axios.post(\n  //     \"https://api.beldara.com/common/create_wishlist.php\",\n  //     {\n  //       security_token: \"\", plateform_type: \"\",\n  //       productid: productid,\n  //       qty: qty,\n  //       amount: this.state.price,\n  //       currency: currency,\n  //       visitorid: getCookie('mhinpbnb'),\n  //       sellerid: ls.get('sellerid')\n  //     },\n  //     { headers: { \"Content-Type\": \"multipart/form-data\" } }\n  //   ).then(response => {\n\n  //     this.showToast(response.data)\n\n  //   })\n  //     .catch(error => {\n  //       const result = error.response;\n  //       return Promise.reject(result);\n  //     });\n  // }\n\n\n  CalcOfferPrice = (offer_price,qty,stock,min_qty,offer_date,to_date) => {\n    //console.log(offer_price,qty,stock,min_qty,offer_date,to_date,'call',230);\n    if(this.offerExist(offer_date,to_date)){\n      // console.log('inside if',230);\n       if(qty <= parseInt(stock) && qty >= parseInt(min_qty)){\n            // return parseInt(qty) * parseFloat(offer_price);\n            return parseFloat(offer_price);\n        }else{\n            return null;\n        }\n    }else{\n      // console.log('inside else 230');\n      return null;\n    }\n    \n  } \n\n  offerExist = (from_date,to_date) => {\n    if(from_date !== undefined && from_date !== null && from_date !== '' && to_date !== undefined && to_date !== null && to_date !== ''){\n      let dateObj = new Date();\n    let month = dateObj.getMonth()+1;\n    let day = dateObj.getDate();\n    let year = dateObj.getFullYear();\n    let todayDate = year + '-' + month + '-' + day;\n    // let todayDate = '2021-5-8';\n\n\n    //Generate an array where the first element is the year, second is month and third is day\n    var splitFrom = from_date.split('-');\n    var splitTo = to_date.split('-');\n    var splitToday = todayDate.split('-');\n\n    //Create a date object from the arrays\n    var newFrom = splitFrom[1]+ \",\" + splitFrom[2] + \",\" + splitFrom[0];\n    var newTo = splitTo[1]+ \",\" + splitTo[2] + \",\" + splitTo[0];\n    var newToday = splitToday[1]+ \",\" + splitToday[2] + \",\" + splitToday[0];\n\n    newFrom = newFrom.toString();\n    newTo = newTo.toString();\n    newToday = newToday.toString();\n\n    var fromDate = Date.parse(newFrom);\n    var toDate = Date.parse(newTo);\n    var todayDates = Date.parse(newToday);\n\n    // console.log(splitFrom,splitTo,splitToday,'array',fromDate,toDate,todayDates,'days',newFrom,newTo,newToday);\n    if(todayDates >= fromDate){\n        if(toDate >= todayDates){\n          return true;\n        }else{\n          return false;\n        }\n    }else{\n      return false;\n    }\n    }else{\n      return false;\n    }\n  }\n\n  chatBtn(product_details){\n    let statePass = {\n      sellerid:product_details.sellerid,\n      chatWithSupplier:true,\n      company:product_details.company,\n      item:product_details,\n    } \n    store.dispatch(getChatWithSupplier(statePass))\n  }\n\n  render() {\n    const { product, symbol, translate } = this.props;\n    const offer_tag = {\n      width:'6rem',\n      zIndex:'1',\n      position:'absolute',\n      webkitTransform: 'rotate(-45deg)',\n      left:'-11px',\n    };\n    // console.log('render',this.props.product);\n    return (<React.Fragment>\n      {/* <div id=\"toast_message\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" className=\"toast toast_pull_right fade hide\">\n        <div className=\"toast-body\">\n          <i className=\"fas fa-check\"></i> Product Added To Wishlist\n                      </div>\n      </div> */}\n\n\n      <div className=\"product-box bg-light \">\n        {\n          (this.offerExist(product.offer_from_date,product.offer_to_date) && product.offer_percent !== null && product.offer_percent !== '0')\n          ? <div className=\"badge badge-danger text-wrap my-1 p-3\" style={offer_tag}>\n                  {product.offer_percent} % Offer\n            </div>\n          : ''\n        }\n        <div className=\"d-flex img-wrapper justify-content-center\">\n          <div className=\"front d-flex imgWrapper\">\n            {/* <Link className=\"d-flex align-items-center justify-content-center\" to={`${process.env.PUBLIC_URL}/product/${encodeURIComponent(product.url)}.html`}> */}\n            {/* <a className=\"d-flex align-items-center justify-content-center\" href={`${process.env.PUBLIC_URL}/product/${product.url}.html`}> */}\n\n              {product.brand_promo == 1 &&\n                <span className=\"bpp_badge badge badge-warning\" > BPP </span>\n              }\n              {/* <ImageLoader\n                src={product.variants ?\n                  this.state.image ? this.state.image : product.variants[0].images\n                  : `${imgUrl}/product_images_thumb/`+product.img} //this is the only compulsory prop\n                alt={`${product.name} beldara.com`}\n                id={product.id}\n              /> */}\n\n\n              <div onClick={this.event_ask_for_price.bind(this,'image',product.id)}>\n                <img\n                  data-sizes=\"auto\"\n                  src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\"\n                  data-src={product.variants ?\n                    this.state.image ? this.state.image : product.variants[0].images\n                    : `${imgUrl}/product_images_thumb/` + product.img}\n                  //fallbackImage={`${imgUrl+'/images/default.jpg'}`}\n                  //initialImage={`${imgUrl+'/images/ajax-loader.gif'}`}\n                  alt={`${product.name} beldara.com`}\n                  // className={}\n                  className=\"img-fluid prodImg lazyload \"\n                  id={product.id}\n                  onError={this.checkImageExist}\n                // onError={this.props.checkImage(product.id)}\n                />\n              </div>\n            {/* </a> */}\n          </div>\n        </div>\n        <div className=\"product_info\">\n          <div>\n\n            <div onClick={this.event_ask_for_price.bind(this,'name', product.id)}>\n              <div className=\"text-truncate font-weight-bolder text-dark\">{product.name}</div>\n            </div>\n            {\n              (product.company) &&\n                <div className=\"text-truncate font-weight-lighter\"><small>{product.company}</small></div>\n            }\n            {\n              \n              // (this.CalcOfferPrice(product.offer_price,product.qty,product.offer_stock,product.offer_min_qty,product.offer_from_date,product.offer_to_date) !== null)\n              (this.offerExist(product.offer_from_date,product.offer_to_date))\n              ?\n              <div> \n              <span className=\"d-flex\">\n                <del className=\"mr-1\">\n                {/* <PriceCalc currencyValue={this.props.currencyValue} productCost={this.deadEnd} finalCost={this.finalCost} minqty={product.qty} symbol={product.currency} start_price={product.start_price} end_price={product.end_price} price_us={product.price_us} price_in={product.price_in} country_code={getCookie('country_code')} /> */}\n                <PriceCalcOffer\n                        productCost={this.deadEnd}\n                        finalCost={this.finalCost}\n                        symbol={product.currency}\n                        start_price={product.start_price}\n                        end_price=\"\"\n                        price_in={product.price_in}\n                        price_us={product.price_us}\n                        mrp_price={product.offer_mrp_price} \n                        price_offer={this.CalcOfferPrice(product.mrp_price,product.offer_min_qty,product.offer_stock,product.offer_min_qty,product.offer_from_date,product.offer_to_date)}\n                        country_code={getCookie('country_code')}\n                      />\n              </del>\n                    <PriceCalcOffer\n                        productCost={this.deadEnd}\n                        finalCost={this.finalCost}\n                        symbol={product.currency}\n                        start_price={product.offer_price}\n                        end_price=\"\"\n                        price_in={product.price_in}\n                        price_us={product.price_us}\n                        mrp_price={product.offer_mrp_price} \n                        price_offer={this.CalcOfferPrice(product.offer_price,product.offer_min_qty,product.offer_stock,product.offer_min_qty,product.offer_from_date,product.offer_to_date)}\n                        country_code={getCookie('country_code')}\n                      />\n              </span>\n              {\n              (product.qty && product.offer_min_qty !== null && product.offer_min_qty !== '0') ?\n                <div className=\"small\">{`${translate('MOQ')} : ${product.offer_min_qty} - ${product.unit}`}</div>\n                : ''\n               }\n               {/* {\n              (product.offer_stock > 0 || product.offer_stock === null) ?\n                <div className=\"small\">{`${translate('Stock')} : ${product.offer_stock} - ${product.unit}`}</div>\n                : <div className=\"small text-danger\">OUT OF STOCK</div>\n               } */}\n              </div>\n              :(!this.offerExist(product.offer_from_date,product.offer_to_date))\n              ?\n              <div>\n                {(product.start_price && this.CalcOfferPrice(product.offer_price,product.qty,product.offer_stock,product.offer_min_qty,product.offer_from_date,product.offer_to_date) === null) ?\n                <PriceCalc currencyValue={this.props.currencyValue} productCost={this.deadEnd} finalCost={this.finalCost} minqty={product.qty} symbol={product.currency} start_price={product.start_price} end_price={product.end_price} price_us={product.price_us} price_in={product.price_in} country_code={getCookie('country_code')} />\n                 : <b>Ask For Price</b>}\n                 {\n              (product.qty && product.offer_min_qty !== null && product.offer_min_qty !== '0') ?\n                <div className=\"small\">{`${translate('MOQ')} : ${product.qty} - ${product.unit}`}</div>\n                : ''\n            }\n              </div>\n               : ''  \n            }\n            {/* {\n              (product.qty) ?\n                <div className=\"small\">{`${translate('MOQ')} : ${product.qty} - ${product.unit}`}</div>\n                : <div className=\"small\">{`${translate('MOQ')} : 1 unit`}</div>\n            } */}\n          </div>\n        </div>\n        <div className=\"row mb-2 mx-0\">\n          {product.start_price && parseFloat(product.start_price) > parseFloat(0) && !this.offerExist(product.offer_from_date,product.offer_to_date) ?\n            <React.Fragment>\n              <div id={`btn_${product.id}`} className=\" col-12 col-md-12 col-sm-12 text-center py-2 px-1 buy1\">\n                <div className=\"mouse_pointer btn btn_Pro  btn-orange\" id={product.id} onClick={this.validate.bind(this,'buyBtn', product.id, product.qty, (parseFloat(product.start_price) * parseInt(product.qty)), this.props.symbol, product.start_price, product.currency, product.sellerid)}>\n                  Buy Now\n                </div>\n                {/* <img className=\"mouse_pointer\" src=\"https://img.beldara.com/images/buy_now_btn.png\" id={product.id} onClick={this.validate.bind(this,'buyBtn', product.id, product.qty, (parseFloat(product.start_price) * parseInt(product.qty)), this.props.symbol, product.start_price, product.currency, product.sellerid)}/> */}\n              </div>\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n              {/* <div className=\"col-6  text-center col-md-6 col-sm-6 py-2 px-1\">\n                <div id={`div_${product.id}`}>\n                  <Link onClick={this.event_ask_for_price.bind(this,'go_to_auction', product.id)} id=\"go_to_auction\" className=\"btn btn_Pro btn-orange\" clickevent=\"go_to_auction\" to={{ pathname: `/product/${product.url}.html`, state: { product, askAuctionInit: false } }} > e-Auction </Link>\n                </div>\n              </div> */}\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n            </React.Fragment>\n            : (this.offerExist(product.offer_from_date,product.offer_to_date))\n            ? \n            <React.Fragment>\n              <div id={`btn_${product.id}`} className=\" col-12 col-md-12 col-sm-12 text-center py-2 px-1 buy2\">\n                <div className=\"mouse_pointer btn btn_Pro  btn-orange\" id={product.id} onClick={this.validate.bind(this,'buyBtn', product.id, product.offer_min_qty,(parseInt(this.state.price) * parseInt(product.offer_min_qty)), this.props.symbol, product.start_price, product.currency, product.sellerid)}>\n                  Buy Now\n                </div>\n                {/* <img className=\"mouse_pointer\" src=\"https://img.beldara.com/images/buy_now_btn.png\" id={product.id} onClick={this.validate.bind(this,'buyBtn', product.id, product.offer_min_qty,(parseInt(this.state.price) * parseInt(product.offer_min_qty)), this.props.symbol, product.start_price, product.currency, product.sellerid)}/> */}\n              </div>\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n              <div className=\"col-6  text-center col-md-6 col-sm-6 py-2 px-1\">\n                {/* <div id={`div_${product.id}`}> */}\n                  {/* <Link onClick={this.event_ask_for_price.bind(this,'go_to_auction', product.id)} id=\"go_to_auction\" className=\"btn btn_Pro btn-orange\" clickevent=\"go_to_auction\" to={{ pathname: `/product/${product.url}.html`, state: { product, askAuctionInit: false } }} > e-Auction </Link> */}\n                {/* </div> */}\n                {/* {\n                      product.sellerid != ls.get('log_id')\n                      ? \n                      <div\n                        className=\"mouse_pointer btn btn_Pro  btn-orange\"\n                        onClick={this.chatBtn.bind(this,product)}>\n                        Chat Now\n                      </div>\n                      // <img className=\"mouse_pointer\" src=\"https://img.beldara.com/images/chat_now_btn.png\" onClick={this.chatBtn.bind(this,product)}/>\n                      : ''\n                } */}\n              </div>\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n            </React.Fragment>\n            :\n            <React.Fragment>\n              <div id={`btn_${product.id}`} className=\"col-12 text-center col-md-12 col-sm-12 py-2 px-1\">\n                <div className=\"text-center\">\n                  <div onClick={this.event_ask_for_price.bind(this,'ask_for_price', product.id)} id=\"ask_for_price\" className=\"btn btn_Pro btn-orange\" clickevent=\"Ask_for_price\"  > Contact Supplier </div>\n                </div>\n              </div>\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n              {/* <div className=\"col-5 text-center col-md-5 col-sm-5 py-2 px-1\">\n                <div id={`div_${product.id}`}>\n                  <Link onClick={this.event_ask_for_price.bind(this,'go_to_auction', product.id)} id=\"go_to_auction\" className=\"btn btn_Pro btn-orange\" clickevent=\"go_to_auction\" to={{ pathname: `/product/${product.url}.html`, state: { product, askAuctionInit: false } }} > e-Auction </Link>\n                </div>\n              </div> */}\n              {/* <div className=\"col-1 col-md-1 d-none d-md-block d-sm-none\"></div> */}\n            </React.Fragment>\n          }\n        </div>\n      </div>\n    </React.Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  symbol: state.data.symbol,\n  currencyValue: state.currencyValue.currencyValue,\n  user: state.user,\n  hole_data: state\n})\nexport default withRouter(withTranslate(connect(mapStateToProps)(ProductListItem)));\n\n// export default withRouter(withTranslate(ProductListItem));"],"sourceRoot":""}