{"version":3,"sources":["components/feedback/index.js"],"names":["brid","finalLead","finalbrid","reqFeedback","props","_this","Object","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","leadSelected","val","br_id","state","type","$","toggleClass","idx","inArray","push","splice","mode","removeClass","addClass","continueComment","attr","length","axios","post","concat","ApiUrl","security_token","plateform_type","sellerid","ls","get","headers","Content-Type","then","response","loaders","data","statusId","history","pathname","text","catch","error","result","Promise","reject","removeAttr","listOfLead","_this2","search","window","location","params","URLSearchParams","setState","_ref","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","wrap","_context","prev","next","console","log","leadid","stop","_x","apply","arguments","_this3","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","map","index","key","id","onClick","name","buyer_name","role","Component","withRouter"],"mappings":"6HASIA,iJAFAC,UAAY,IACZC,EAAY,GAEVC,cACF,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACdE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAoEVQ,aAAe,SAACC,EAAKC,GACjB,GAAuB,GAAnBT,EAAKU,MAAMC,KACXC,IAAE,IAAIJ,GAAKK,YAAY,YAEX,IADRC,EAAMF,IAAEG,QAAQN,EAAOb,KAEvBA,EAAUoB,KAAKR,GACfX,EAAUmB,KAAKP,KAEfb,EAAUqB,OAAOH,EAAK,GACtBjB,EAAUoB,OAAOH,EAAK,SAExB,GAAuB,GAAnBd,EAAKU,MAAMC,KACjB,GAAuB,GAAnBX,EAAKU,MAAMQ,KACXN,IAAE,oBAAoBO,YAAY,WAClCP,IAAE,IAAIJ,GAAKY,SAAS,WACpBxB,EAAU,GAAKY,OAEZ,GAAuB,GAAnBR,EAAKU,MAAMQ,KAAU,CAE5B,IAAIJ,EADJF,IAAE,IAAIJ,GAAKK,YAAY,YAEX,IADRC,EAAMF,IAAEG,QAAQP,EAAKZ,IAErBA,EAAUoB,KAAKR,GAEfZ,EAAUqB,OAAOH,EAAK,KA5FpBd,EAkGlBqB,gBAAmB,WACfT,IAAE,gBAAgBO,YAAY,UAAUC,SAAS,UACjDR,IAAE,gBAAgBU,KAAK,WAAW,IAClCV,IAAE,YAAYO,YAAY,UAC1BP,IAAE,gBAAgBO,YAAY,UAAUC,SAAS,UAE7CxB,EAAU2B,OAAS,EAEnBC,IAAMC,KAAN,GAAAC,OAAcC,IAAd,gCACA,CACIC,eAAgB,GAChBC,eAAgB,GAChBC,SAAUC,IAAGC,IAAI,YACjBd,KAAMlB,EAAKU,MAAMQ,KACjBvB,KAAMA,EACNgB,KAAMX,EAAKU,MAAMC,KACjBf,UAAWA,EACXC,UAAWA,GAEf,CAAEoC,QAAS,CAAEC,eAAgB,yBAE5BC,KAAK,SAAAC,GAEFpC,EAAKqC,UAEyB,GAA1BD,EAASE,KAAKC,SAEdvC,EAAKD,MAAMyC,QAAQxB,KAAK,CACpByB,SAAU,4BACV/B,MAAO,CACPQ,KAAMlB,EAAKU,MAAMQ,KACjBP,KAAMX,EAAKU,MAAMC,KACjBhB,KAAMA,EACNC,UAAWA,EACXC,UAAWA,KAKfe,IAAE,gBAAgBO,YAAY,UAAUuB,KAAK,6CAGpDC,MAAM,SAAAC,GACH5C,EAAKqC,UACLzB,IAAE,gBAAgBO,YAAY,UAAUuB,KAAK,2CAC7C,IAAMG,EAASD,EAAMR,SACrB,OAAOU,QAAQC,OAAOF,MAK1B7C,EAAKqC,UACLzB,IAAE,gBAAgBO,YAAY,UAAUuB,KAAK,wCAtJnC1C,EA0JlBqC,QAAU,WACNzB,IAAE,gBAAgBO,YAAY,UAC9BP,IAAE,YAAYO,YAAY,UAAUC,SAAS,UAC7CR,IAAE,gBAAgBoC,WAAW,aA3J7BhD,EAAKU,MAAO,CACRQ,KAAO,EACPP,KAAO,EACPsC,WAAY,IALFjD,mFAQE,IAAAkD,EAAA/C,KACZgD,EAASC,OAAOC,SAASF,OACzBG,EAAS,IAAIC,gBAAgBJ,GACjCxD,EAAO2D,EAAOtB,IAAI,QAClB,IAAIrB,EAAO2C,EAAOtB,IAAI,QAClBd,EAAOoC,EAAOtB,IAAI,QAClBd,GAAgB,IAARA,GACRf,KAAKqD,SAAS,CACVtC,KAAMA,IAIVP,GAAgB,IAARA,GACRR,KAAKqD,SAAS,CACV7C,KAAMA,KAGVoB,IAAGC,IAAI,aAAwB,KAARd,GAAuB,KAARA,GAAuB,KAARA,GACrDM,IAAMC,KAAN,GAAAC,OAAcC,IAAd,+BACA,CACIC,eAAgB,GAChBC,eAAgB,GAChBC,SAAUC,IAAGC,IAAI,YACjBrC,KAAMA,EACNgB,KAAMA,GAEV,CAAEsB,QAAS,CAAEC,eAAgB,yBAE5BC,KAVD,eAAAsB,EAAAxD,OAAAyD,EAAA,EAAAzD,CAAA0D,EAAAC,EAAAC,KAUM,SAAAC,EAAM1B,GAAN,OAAAuB,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAG4B,GAA1B9B,EAASE,KAAKC,SAHhB,CAAAyB,EAAAE,KAAA,eAIEC,QAAQC,IAAIhC,EAASE,KAAK,IAJ5B0B,EAAAE,KAAA,EAKQhB,EAAKM,SAAS,CAChBP,WAAcb,EAASE,KAAKO,SANlC,OAQc,KAAR3B,IACAtB,EAAUoB,KAAKkC,EAAKxC,MAAMuC,WAAW,GAAGoB,QACxCnB,EAAKnD,MAAMyC,QAAQxB,KAAK,CACpByB,SAAU,4BACV/B,MAAO,CACPQ,KAAMA,EACNP,KAAMA,EACNhB,KAAMA,EACNC,UAAYA,EACZC,UAAYF,MAjBtB,wBAAAqE,EAAAM,SAAAR,MAVN,gBAAAS,GAAA,OAAAd,EAAAe,MAAArE,KAAAsE,YAAA,IAiCC9B,MAAM,SAAAC,GACH,IAAMC,EAASD,EAAMR,SACrB,OAAOU,QAAQC,OAAOF,sCAmGzB,IAAA6B,EAAAvE,KACE8C,EAAc9C,KAAKO,MAAnBuC,WACP,OACI0B,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,2BACXF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,OACXF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,UACXF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,gCACXF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,OACXF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,UACU,GAAnB1E,KAAKO,MAAMQ,MAAgC,GAAnBf,KAAKO,MAAMC,KACjCgE,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,WAAf,gEACkB,GAAnB1E,KAAKO,MAAMQ,MAAgC,GAAnBf,KAAKO,MAAMC,KAClCgE,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,WAAf,yDACkB,GAAnB1E,KAAKO,MAAMQ,MAAgC,GAAnBf,KAAKO,MAAMC,KAClCgE,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,WAAf,gEACkB,GAAnB1E,KAAKO,MAAMQ,MAAgC,GAAnBf,KAAKO,MAAMC,KAClCgE,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,WAAf,yDACD,GAEHF,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,wBACXF,EAAAf,EAAAgB,cAAA,MAAIC,UAAU,4CACT5B,EAAW1B,OAAS,EACE,KAAnBpB,KAAKO,MAAMC,KACTsC,EAAW6B,IAAI,SAACtE,EAAKuE,GAAN,OACbJ,EAAAf,EAAAgB,cAAA,MAAII,IAAKD,EAAOF,UAAU,gCAAgCI,GAAIzE,EAAI6D,OAAQa,QAAS,kBAAMR,EAAKnE,aAAaC,EAAI6D,OAAQ7D,EAAIb,QAAQa,EAAI2E,QAEzIlC,EAAW6B,IAAI,SAACtE,EAAKuE,GAAN,OACbJ,EAAAf,EAAAgB,cAAA,MAAII,IAAKD,EAAOF,UAAU,gCAAgCI,GAAIzE,EAAI6D,OAAQa,QAAS,kBAAMR,EAAKnE,aAAaC,EAAI6D,OAAQ7D,EAAIb,QAAQa,EAAI4E,cAG7I,KAGVT,EAAAf,EAAAgB,cAAA,OAAKC,UAAU,kCACXF,EAAAf,EAAAgB,cAAA,OAAKK,GAAG,cAAcJ,UAAU,6BAAhC,oCACAF,EAAAf,EAAAgB,cAAA,UAAQK,GAAG,cAAcJ,UAAU,gBAAgBK,QAAS/E,KAAKkB,iBAC7DsD,EAAAf,EAAAgB,cAAA,OAAKK,GAAG,UAAUJ,UAAU,yBAAyBQ,KAAK,UACtDV,EAAAf,EAAAgB,cAAA,QAAMC,UAAU,WAAhB,eAEJF,EAAAf,EAAAgB,cAAA,OAAKK,GAAG,eAAR,2BAxMlBK,aAqNXC,sBAAWzF","file":"static/js/105.9714ecec.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport $ from 'jquery';\nimport ls from \"local-storage\";\nimport { ApiUrl } from '../../constants/ActionTypes';\nimport axios from 'axios';\nimport { withRouter } from 'react-router'\nimport './feedback.css';\nvar finalLead = [];\nvar finalbrid = [];\nvar brid;\nclass reqFeedback extends Component {\n    constructor(props){\n        super(props)\n        this.state ={\n            mode : 0,\n            type : 0,\n            listOfLead: []\n        }\n    }\n    componentDidMount() {\n        let search = window.location.search;\n        let params = new URLSearchParams(search);\n        brid = params.get('brid');\n        var type = params.get('type');\n        var mode = params.get('mode');\n        if (mode && mode != ''){\n            this.setState({\n                mode: mode\n            })\n        }\n\n        if (type && type != ''){\n            this.setState({\n                type: type\n            })\n        }\n        if (ls.get('sellerid') && (mode == '1' || mode == '3' || mode == '2') ){\n            axios.post(`${ApiUrl}/common/get_req_contact.php`,\n            {\n                security_token: \"\",\n                plateform_type: \"\",\n                sellerid: ls.get('sellerid'),\n                brid: brid,\n                type: type // 1 = ask for seller and 2 = buyer\n            },\n            { headers: { \"Content-Type\": \"multipart/form-data\" } }\n            )\n            .then(async response =>  {\n                var name;\n               \n                if (response.data.statusId == 1){\n                    console.log(response.data,52);\n                    await this.setState({\n                        listOfLead  : response.data.result\n                    })\n                    if (mode == '2'){\n                        finalLead.push(this.state.listOfLead[0].leadid)\n                        this.props.history.push({\n                            pathname: \"/requirement_comment.html\",\n                            state: {\n                            mode: mode,\n                            type: type,\n                            brid: brid,\n                            finalLead : finalLead,\n                            finalbrid : brid\n                            }\n                        });\n                    }\n                }\n            })\n            .catch(error => {\n                const result = error.response;\n                return Promise.reject(result);\n            });\n        }\n        // console.log(this.state,62,this.state.listOfLead);\n\n        \n    }\n\n    leadSelected = (val, br_id) => {\n        if (this.state.type == 2){\n            $('#'+val).toggleClass('bg_gray');\n            var idx = $.inArray(br_id, finalLead);\n            if (idx == -1) {\n                finalLead.push(val);\n                finalbrid.push(br_id)\n            } else {\n                finalLead.splice(idx, 1);\n                finalbrid.splice(idx, 1);\n            }\n        }else if (this.state.type == 1){\n            if (this.state.mode == 1){\n                $('.contact_list li').removeClass('bg_gray');\n                $('#'+val).addClass('bg_gray');\n                finalLead[0] = val;\n                // console.log(finalLead,95);\n            } else if (this.state.mode == 3){\n                $('#'+val).toggleClass('bg_gray');\n                var idx = $.inArray(val, finalLead);\n                if (idx == -1) {\n                    finalLead.push(val);\n                } else {\n                    finalLead.splice(idx, 1);\n                }\n            }\n        }\n    }\n\n    continueComment  = () => {\n        $('#not_loading').removeClass('d-none').addClass('d-none');\n        $('#btn_loading').attr('disabled','');\n        $('#loading').removeClass('d-none');\n        $('#select_none').removeClass('d-none').addClass('d-none');\n        // console.log('continueComment',finalLead,113);\n        if (finalLead.length > 0){\n\n            axios.post(`${ApiUrl}/common/capture_feedback.php`,\n            {\n                security_token: \"\",\n                plateform_type: \"\",\n                sellerid: ls.get('sellerid'),\n                mode: this.state.mode, \n                brid: brid,\n                type: this.state.type, // 1 = ask for seller and 2 = buyer\n                finalLead: finalLead,\n                finalbrid: finalbrid\n            },\n            { headers: { \"Content-Type\": \"multipart/form-data\" } }\n            )\n            .then(response => {\n                \n                this.loaders()\n                \n                if (response.data.statusId == 1){\n                    \n                    this.props.history.push({\n                        pathname: \"/requirement_comment.html\",\n                        state: {\n                        mode: this.state.mode,\n                        type: this.state.type,\n                        brid: brid,\n                        finalLead: finalLead,\n                        finalbrid: finalbrid\n                        }\n                    });\n                }else{\n                    \n                    $('#select_none').removeClass('d-none').text('Something Went Wrong! Please try again.');\n                }\n            })\n            .catch(error => {\n                this.loaders()\n                $('#select_none').removeClass('d-none').text('Something Went Wrong! Please try again.');\n                const result = error.response;\n                return Promise.reject(result);\n            });\n\n            \n        }else{\n            this.loaders()\n            $('#select_none').removeClass('d-none').text('Please Select Any One To Continue.');\n        }\n    }\n\n    loaders = () => {\n        $('#not_loading').removeClass('d-none');\n        $('#loading').removeClass('d-none').addClass('d-none');\n        $('#btn_loading').removeAttr('disabled');\n    }\n\n    render() {\n        const {listOfLead} = this.state;\n        return (\n            <div className=\"container-fluid bg_gray\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"container bg-light my-3 w-75\">\n                            <div className=\"row\">\n                                <div className=\"col-12\">\n                                    { this.state.mode == 1 && this.state.type == 1?\n                                        <div className=\"my-3 h6\">Please select from the option with whom you closed the deal.</div>\n                                    :  this.state.mode == 3 && this.state.type == 1?\n                                        <div className=\"my-3 h6\">Please select the requirement which you've completed.</div>\n                                    :  this.state.mode == 1 && this.state.type == 2?\n                                        <div className=\"my-3 h6\">Please select from the option with whom you closed the deal.</div>\n                                    :  this.state.mode == 3 && this.state.type == 2?\n                                        <div className=\"my-3 h6\">Please select the requirement which you've completed.</div>\n                                    :  ''\n                                    }\n                                    <div className=\"contact_list_wrapper\">\n                                        <ul className=\"list-group list-group-flush contact_list\">\n                                            {listOfLead.length > 0 ?\n                                                this.state.type == '1' \n                                                ? listOfLead.map((val, index) => \n                                                    <li key={index} className=\"list-group-item mouse_pointer\" id={val.leadid} onClick={() => this.leadSelected(val.leadid, val.brid)}>{val.name}</li>\n                                                    )  \n                                                : listOfLead.map((val, index) => \n                                                    <li key={index} className=\"list-group-item mouse_pointer\" id={val.leadid} onClick={() => this.leadSelected(val.leadid, val.brid)}>{val.buyer_name}</li>\n                                                    )\n                                            \n                                            : ''}\n                                        </ul>\n                                    </div>\n                                    <div className=\"my-3 card-text text-right mb-5\">\n                                        <div id=\"select_none\" className=\"d-none alert alert-danger\"> Select atleast one to continue </div>\n                                        <button id=\"btn_loading\" className=\"btn btn-solid\" onClick={this.continueComment}>\n                                            <div id=\"loading\" className=\" spinner-border d-none\" role=\"status\">\n                                                <span className=\"sr-only\">Loading...</span>\n                                            </div>\n                                            <div id=\"not_loading\">CONTINUE</div>\n                                        </button>  \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(reqFeedback);"],"sourceRoot":""}