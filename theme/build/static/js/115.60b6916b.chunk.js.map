{"version":3,"sources":["components/firebase/cloud-messaging/index.jsx"],"names":["__webpack_require__","r","__webpack_exports__","firebase_app__WEBPACK_IMPORTED_MODULE_0__","_constants_ActionTypes__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_4__","axios__WEBPACK_IMPORTED_MODULE_4___default","n","local_storage__WEBPACK_IMPORTED_MODULE_5__","local_storage__WEBPACK_IMPORTED_MODULE_5___default","_functions__WEBPACK_IMPORTED_MODULE_7__","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","messaging","usePublicVapidKey","requestPermission","then","console","log","getToken","token","axios","post","concat","ApiUrl","security_token","plateform_type","type","sellerid","ls","get","visitorid","getCookie","headers","Content-Type","response","catch","error","result","Promise","reject","err","onMessage","payload"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,KAAAI,GAAAJ,EAAA,KAAAA,EAAA,IAAAK,GAAAL,EAAA,IAAAA,EAAA,IAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,IAAAS,EAAAT,EAAAO,EAAAC,GAAAE,GAAAV,EAAA,GAAAA,EAAA,IAsBE,IACFW,gBAXqB,CACjBC,OAAQ,0CACRC,WAAY,4BACZC,YAAa,mCACbC,UAAW,YACXC,cAAe,wBACfC,kBAAmB,iBAMvB,IAAMC,EAAYP,cAElBO,EAAUC,kBAAkB,2FAC5BD,EAAUE,oBACTC,KAAK,WAEJ,OADAC,QAAQC,IAAI,oCACLL,EAAUM,aAElBH,KAAK,SAASI,GAEPC,IACCC,KADD,GAAAC,OAEKC,IAFL,6BAGE,CAAEC,eAAgB,GAAIC,eAAgB,GAAIN,MAAQA,EAAMO,KAAK,YAAYC,SAASC,IAAGC,IAAI,YAAYC,UAAUC,YAAU,aACzH,CAAEC,QAAS,CAAEC,eAAgB,yBAE9BlB,KAAK,SAAAmB,MAILC,MAAM,SAAAC,GACL,IAAMC,EAASD,EAAMF,SACrB,OAAOI,QAAQC,OAAOF,OAc/BF,MAAM,SAASK,MAGhB5B,EAAU6B,UAAU,SAASC,MAI5B,MAAMF","file":"static/js/115.60b6916b.chunk.js","sourcesContent":["import * as firebase from \"firebase/app\";\nimport \"firebase/messaging\";\n// import \"./firebase-messaging-sw\"\n\nimport { ApiUrl } from '../../../constants/ActionTypes';\nimport { imgUrl } from '../../../constants/variable';\nimport axios from \"axios\";\nimport ls from \"local-storage\";\nimport $ from 'jquery'\nimport { getCookie } from \"../../../functions\";\n\n// TODO: Replace the following with your app's Firebase project configuration\nvar firebaseConfig = {\n    apiKey: \"AIzaSyDNYE9M32BQm5cOZeaPU416aK9cywMgfgc\",\n    authDomain: \"mybeldara.firebaseapp.com\",\n    databaseURL: \"https://mybeldara.firebaseio.com\",\n    projectId: \"mybeldara\",\n    storageBucket: \"mybeldara.appspot.com\",\n    messagingSenderId: \"944225435259\"\n  };\n  \n  // Initialize Firebase\n  try{\nfirebase.initializeApp(firebaseConfig);\nconst messaging = firebase.messaging();\n// Add the public key generated from the console here.\nmessaging.usePublicVapidKey(\"BPlqEOm2KBrl6qVbavoOst-AzE-SLg775YPeTC8TN4ekDevf0xKUJnaq6YvCPpI0vo_0fQUBMTpRSbvEaIWhzC0\");\nmessaging.requestPermission()\n.then(function() {\n  console.log('Notification permission granted.');\n  return messaging.getToken();\n})\n.then(function(token) {\n    // if (ls.get('sellerid')) {\n        axios\n        .post(\n          `${ApiUrl}/common/ajax-firebase.php`,\n          { security_token: \"\", plateform_type: \"\", token : token,type:'messaging',sellerid:ls.get('sellerid'),visitorid:getCookie('mhinpbnb')},\n          { headers: { \"Content-Type\": \"multipart/form-data\" } }\n        )\n        .then(response => {\n        //   dispatch(receiveStoreFront(response.data.result));\n          // console.log(response.data.result) ;\n        })\n        .catch(error => {\n          const result = error.response;\n          return Promise.reject(result);\n        });\n    // $.ajax({\n    //   type:\"post\",\n    //   data:{\"token\":token,\"type\":\"messaging\",\"sellerid\":ls.get('sellerid')},\n    //   url:`${imgUrl}/ajax/ajax-firebase.php`,\n    //   success:function(result) {\n    //     console.log(result);\n    //   }\n    // })\n  // }\n  \n\n})\n.catch(function(err) {\n  // console.log('Unable to get permission to notify.'+err);\n});\nmessaging.onMessage(function(payload) {\n  //console.log('onMessage',payload)\n})\n\n}catch(err){\n  // console.log('firebase error: '+err);\n}"],"sourceRoot":""}