{"version":3,"sources":["components/offers/ProductByOffer.jsx"],"names":["ProductListItem","lazy","Promise","all","__webpack_require__","e","then","bind","ProductByOffer","props","_this$state","_this","Object","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","search","window","location","params","URLSearchParams","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","getProductData","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee2","wrap","_context2","prev","next","axios","post","concat","types","plateform_type","security_token","sellerid","ls","get","currency","getCookie","country_code","country_to","offset","state","page","headers","content-type","_ref2","_callee","res","_context","data","statusId","setState","products","result","loaded","stop","_x","apply","arguments","catch","error","console","log","limit","hasMoreItems","activePage","isFetching","_Volumes_NITIN_PATIL_Latest_Working_Project_react_beldara_com_13_08_20_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","parseInt","scrollTo","setClass","_this2","_this$state2","addToCart","symbol","addToWishlist","addToCompare","totalCount","react__WEBPACK_IMPORTED_MODULE_8___default","createElement","className","length","Fragment","map","product","index","name","key","checkImage","src","process","react_router_dom__WEBPACK_IMPORTED_MODULE_10__","to","id","_products_common_loading_bar__WEBPACK_IMPORTED_MODULE_13__","Component","connect"],"mappings":"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","file":"static/js/113.765e6d62.chunk.js","sourcesContent":["import React, { Component,Suspense,lazy } from 'react'\nimport { connect } from \"react-redux\";\nimport {Link} from 'react-router-dom';\nimport { getProductsByLP, getAllCurrencyValue } from '../../actions'\n// import ProductListItem from '../collection/common/product-list-item';\nimport store from '../../store';\nimport LoadingComponent from '../products/common/loading-bar';\nimport LazyLoad from 'react-lazy-load';\nimport axios from \"axios\";\nimport * as types from \"../../constants/ActionTypes\";\nimport { lstat } from 'fs';\nimport ls from \"local-storage\";\nimport { getCookie } from '../../functions';\nconst ProductListItem = lazy(()=>import('../collection/common/product-list-item-offer'))\nvar query;\n\nfunction getFileName(url) {\n    var index = url.lastIndexOf(\"/\") + 1;\n    var filenameWithExtension = url.substr(index);\n    var filename = filenameWithExtension.split(\".\")[0]; \n    filename = filename.replace(/(#|\\?).*?$/, \"\");\n    return filename;                                   \n} \n\nfunction showImageOnlyIfExist(ele){\n    // $('#'+ele).closest('.col-grid-box').addClass('d-none');\n}\nvar isFetching=0\nclass ProductByOffer extends Component {\n    constructor (props) {\n        let search = window.location.search;\n        let params = new URLSearchParams(search);\n        super (props)\n        this.state = { limit: 100, hasMoreItems: true, products: [], activePage: 15,isFetching:0 ,products:[],loaded:false,offset:1,totalCount:0,page:parseInt(params.get('page')) > 0 ? parseInt(params.get('page')) : 0};\n    }\n\n    // UNSAFE_componentWillMount = async (nextProps) => {\n    //     await store.dispatch(getProductsByLP(this.props.cat_id))\n    // }\n    async componentDidMount() {\n        // store.dispatch(getProductsByLP(this.props.cat_id))\n        this.getProductData();\n        // store.dispatch(getAllCurrencyValue())\n    }\n\n    getProductData = async () => {\n       \n        // var offset = params.get('page'); \n        // console.log(params.get('page'),47);\n        axios.post(\n            `${types.ApiUrl}/common/get_prod_by_offer.php`,\n            {plateform_type:\"\",security_token:\"\",sellerid:ls.get('log_id'),currency:getCookie('currency'),country_code:getCookie('country_code'),country_to:getCookie('countryid'),offset:this.state.page},\n            {\n                headers:{\n                    \"content-type\":\"multipart/form-data\"\n                }\n            }\n            ).then(async res => {\n                // console.log(res,48);\n                if(res.data.statusId == 1){\n                    await this.setState({\n                        products : res.data.result,\n                        loaded:true\n                    })\n                }else{\n\n                }\n            }).catch(error =>{\n                console.log(error,56);\n            })\n    }\n\n    // componentDidMount = async (nextProps) => {\n    //     await store.dispatch(getProductsByLP(this.props.cat_id))\n\n    // }\n\n    async componentDidUpdate() {\n        // this.getProductData();\n        window.scrollTo(1,0)\n    }\n\n    async componentWillReceiveProps(){\n        // console.log('componentWillReceiveProps','ProductByOffer');\n        this.getProductData();\n    }\n    checkImage(setClass){\n        showImageOnlyIfExist(setClass);\n    }\n\n    render() {\n        const { products, addToCart, symbol, addToWishlist, addToCompare, totalCount } = this.state;\n        // console.log(this.state.products.length,'render');\n        // Array.prototype.push.apply(this.state.products,this.props.products)\n        return (\n            <div>\n                \n                <div className=\"product-wrapper-grid\">\n                    <div className=\"\">\n                                {\n                                    (!this.state.loaded)\n                                    ? \n                                        <div className=\"\" id=\"loader-gif\">\n                                            <LoadingComponent />\n                                        </div>\n                                    :(this.state.products && this.state.products.length > 0)\n                                        ?\n                                        <React.Fragment>\n                                        <div className=\"row\">\n                                            {/* <Suspense fallback={<LoadingComponent />}> */}\n        \n                                                { products.map((product, index) =>\n                                                    product &&\n                                                    (product.name) &&\n                                                        // <div className='col-6 col-lg-3 col-xl-3 col-md-4 col-xs-6 col-sm-6 col-grid-box px-0 px-sm-0 px-md-1' key={index}>\n                                                        <div className='col-6 col-lg-3 col-xl-3 col-md-4 col-xs-6 col-sm-6 col-grid-box px-1' key={index}>\n                                                            \n                                                    <ProductListItem \n                                                        product={product} symbol={this.props.data.symbol}\n                                                        checkImage={this.checkImage} \n                                                                    \n                                                    />\n                                                            \n        \n                                                </div>\n                                                    )\n                                                }\n                                            {/* </Suspense> */}\n                                        </div>\n                                        </React.Fragment>\n                                    :       \n                                        <div className=\"row\">\n                                            <div className=\"col-sm-12 text-center section-b-space mt-5 no-found\" >\n                                                <img src={`${process.env.PUBLIC_URL}/assets/images/empty-search.jpg`} className=\"img-fluid mb-4\" />\n                                                <h3>Sorry! No Offer Products found!!!    </h3>\n                                                <Link to={`${process.env.PUBLIC_URL}/`} className=\"btn btn-solid\">continue shopping</Link>\n                                            </div>\n                                        </div>\n                                \n                                }\n                        {/* {this.state.products && this.state.products.length > 0 ?\n                            \n                            :\n                            \n                            } */}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n// const mapStateToProps = (state,ownProps) => ({\n//     perPage:'50',\n//     symbol: state.data.symbol,\n//     currencyValue: state.currencyValue.currencyValue,\n// })\n\nconst mapStateToProps = state => {\n    return state;\n   };\n\nexport default connect(\n    mapStateToProps\n)(ProductByOffer)  "],"sourceRoot":""}