{"version":3,"sources":["components/feedback/comment.js"],"names":["brid","finalLead","finalbrid","reqFeedbackComment","props","_this","Object","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","componentDidMount","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_apple_Desktop_indiabigshop_react_beldara_com_theme_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","search","params","type","mode","wrap","_context","prev","next","location","state","setState","parseFloat","window","URLSearchParams","get","stop","submitComment","$","removeClass","addClass","attr","comment_feedback","val","undefined","axios","post","concat","ApiUrl","security_token","plateform_type","sellerid","ls","comments","headers","Content-Type","then","response","loaders","data","statusId","history","push","pathname","parseInt","otp","otpCheck","error","text","catch","result","Promise","reject","removeAttr","translate","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","className","placeholder","name","id","rows","defaultValue","required","htmlFor","onClick","role","Component","withTranslate"],"mappings":"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","file":"static/js/104.3c7b3318.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport { ApiUrl } from '../../constants/ActionTypes';\nimport ls from \"local-storage\";\nimport $ from 'jquery';\nimport { withTranslate } from \"react-redux-multilingual\";\nimport './feedback.css';\n\nvar brid;\nvar finalLead = [];\nvar finalbrid = [];\nclass reqFeedbackComment extends Component {\n\n    constructor(props){\n        super(props)\n        this.state ={\n            mode : 0,\n            type : 0\n        }\n    }\n\n    componentDidMount = async () => {\n        // console.log(this.props,23);\n        if (this.props.location.state){\n            await this.setState({\n                mode: parseFloat(this.props.location.state.mode),\n                type: parseFloat(this.props.location.state.type)\n            })\n            if (this.props.location.state.brid)\n                brid = this.props.location.state.brid\n\n            if (this.props.location.state.finalLead)\n                finalLead = this.props.location.state.finalLead\n\n            if (this.props.location.state.finalbrid)\n                finalbrid = this.props.location.state.finalbrid\n                \n        }\n\n        let search = window.location.search;\n        let params = new URLSearchParams(search);\n        \n        if (params.get('brid') && params.get('brid') != '')\n            brid = params.get('brid');\n\n        var type = params.get('type');\n        var mode = params.get('mode');\n\n        if (mode && mode != ''){\n            await this.setState({\n                mode: mode\n            })\n        }\n\n        if (type && type != ''){\n            await this.setState({\n                type: type\n            })\n        }\n\n        \n    }\n\n    submitComment = () => {\n        \n        $('#not_loading').removeClass('d-none').addClass('d-none');\n        $('#btn_loading').attr('disabled','');\n        $('#loading').removeClass('d-none');\n        $('#select_none').addClass('d-none');\n        let comment_feedback = $('#reqComment').val();\n\n        if (comment_feedback && comment_feedback != '' && comment_feedback !== undefined && comment_feedback !== null){\n            \n            axios.post(`${ApiUrl}/common/capture_comments.php`,\n            {\n                security_token: \"\",\n                plateform_type: \"\",\n                sellerid: ls.get('sellerid'),\n                mode: this.state.mode, \n                brid: brid,\n                type: this.state.type, // 1 = ask for seller and 2 = buyer\n                finalLead: finalLead,\n                finalbrid: finalbrid,\n                comments:comment_feedback\n            },\n            { headers: { \"Content-Type\": \"multipart/form-data\" } }\n            )\n            .then(response => {\n                this.loaders()\n                // console.log(response.data,89);\n                if (response.data.statusId == 1){\n                    $('#select_none').removeClass('d-none').addClass('d-none');\n                    this.props.history.push({\n                        pathname: \"/thankyou.html\",\n                        state: {\n                        type: 5+parseInt(this.state.type),\n                        otp: 1,\n                        otpCheck: 1,\n                        error: 0\n                        }\n                    });\n                    \n                }else{\n                    this.loaders()\n                    $('#select_none').removeClass('d-none').text('Something Went Wrong! Please try again.');\n                }\n            })\n            .catch(error => {\n                this.loaders()\n                $('#select_none').removeClass('d-none').text('Something Went Wrong! Please try again.');\n                const result = error.response;\n                return Promise.reject(result);\n            });\n        }else{\n            this.loaders()\n            $('#select_none').removeClass('d-none').text('Please Enter Comments To Continue');\n        }\n    }\n\n    loaders = () => {\n        $('#not_loading').removeClass('d-none');\n        $('#loading').removeClass('d-none').addClass('d-none');\n        $('#btn_loading').removeAttr('disabled');\n    }\n\n\n//     this.state.mode == '1' && this.state.type == '1' ?\n//     <div>Thanks for choosing your option. Let us know about your business deal.</div>\n// : this.state.mode == '3' && this.state.type == '1' ?\n//     <div>Thanks for choosing your option. Let us know about your business deal.</div>\n// :this.state.mode == '1' && this.state.type == '2' ?\n//     <div>Thanks for choosing your option. Let us know about your business deal.</div>\n// : this.state.mode == '3' && this.state.type == '2' ?\n//     <div>Thanks for choosing your option. Let us know about your business deal.</div>\n// :\n\n    render() {\n        const {translate} = this.props;\n        return (\n            <div className=\"container-fluid bg_gray\">\n                <div className=\"row  d-flex justify-content-center\">\n                    <div className=\"col-12 col-sm-12 col-md-6 bg-light mt-3 mb-3\">\n                        { this.state.mode == '2'?\n                            <div className=\"my-3 h6\">We understand your feeling. Let us know what went wrong so to serve you better from the next time.</div>\n                        : <div className=\"my-3 h6\">Thanks for choosing your option. Let us know about your business deal.</div>}\n                        \n                        <div className=\"has-float-label mt-3\">\n                            <textarea className=\"form-control\" placeholder=\" \" name=\"reqComment\" id=\"reqComment\" rows=\"4\" defaultValue={``} required></textarea>\n                            <label htmlFor=\"reqComment\">{`${translate('Write Your Feedback here')}...`}</label>\n                        </div>\n\n                        <div className=\"my-3 card-text text-right mb-5\">\n                        <span id=\"select_none\" className=\"d-none\"> Select atleast one to continue </span>\n                            <button id=\"btn_loading\" className=\"btn btn-solid\" onClick={this.submitComment}>\n                                <div id=\"loading\" className=\"spinner-border d-none\" role=\"status\">\n                                    <span className=\"sr-only\">Loading...</span>\n                                </div>\n                                <div id=\"not_loading\">CONTINUE</div>\n                            </button>  \n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withTranslate(reqFeedbackComment);"],"sourceRoot":""}